{"version":3,"sources":["meteor://ðŸ’»app/packages/mdg:validation-error/validation-error.js"],"names":["errorSchema","SimpleSchema","name","type","String","details","Object","blackbox","optional","errorsSchema","errors","Array","ValidationError","message","validate","ERROR_CODE","Meteor","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;AAEA;AACA,IAAMA,cAAc,IAAIC,YAAJ,CAAiB;AACnCC,QAAM,EAACC,MAAMC,MAAP,EAD6B;AAEnCD,QAAM,EAACA,MAAMC,MAAP,EAF6B;AAGnCC,WAAS,EAACF,MAAMG,MAAP,EAAeC,UAAU,IAAzB,EAA+BC,UAAU,IAAzC;AAH0B,CAAjB,CAApB;;AAMA,IAAMC,eAAe,IAAIR,YAAJ,CAAiB;AACpCS,UAAQ,EAACP,MAAMQ,KAAP,EAD4B;AAEpC,cAAY,EAACR,MAAMH,WAAP;AAFwB,CAAjB,CAArB;;AAKAY;AAAA;;AACE,kBAAYF,MAAZ,EAAmD;AAAA,QAA/BG,OAA+B,uEAArB,mBAAqB;;AAAA;;AACjDJ,iBAAaK,QAAb,CAAsB,EAACJ,cAAD,EAAtB;;AADiD,iDAGjD,yBAAME,gBAAgBG,UAAtB,EAAkCF,OAAlC,EAA2CH,MAA3C,CAHiD;;AAKjD,UAAKA,MAAL,GAAcA,MAAd;AALiD;AAMlD;;AAPH;AAAA,EAAgCM,OAAOC,KAAvC;;AAUA;AACA;AACAL,gBAAgBG,UAAhB,GAA6B,kBAA7B,iE","file":"/packages/mdg_validation-error.js","sourcesContent":["/* global ValidationError:true */\n/* global SimpleSchema */\n\n// This is exactly what comes out of SS.\nconst errorSchema = new SimpleSchema({\n  name: {type: String},\n  type: {type: String},\n  details: {type: Object, blackbox: true, optional: true}\n});\n\nconst errorsSchema = new SimpleSchema({\n  errors: {type: Array},\n  'errors.$': {type: errorSchema}\n});\n\nValidationError = class extends Meteor.Error {\n  constructor(errors, message = 'Validation Failed') {\n    errorsSchema.validate({errors});\n\n    super(ValidationError.ERROR_CODE, message, errors);\n\n    this.errors = errors;\n  }\n};\n\n// If people use this to check for the error code, we can change it\n// in future versions\nValidationError.ERROR_CODE = 'validation-error';\n"]}